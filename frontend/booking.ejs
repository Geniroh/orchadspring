<!doctype html>
<html class="no-js" lang="">
    <%- include('./partials/head.ejs') %>
    <body class="white-background">
        <%- include('./partials/nav.ejs') %>

        <!-- main-area -->
        <main>

            <!-- breadcrumb-area -->
            <section class="breadcrumb-area breadcrumb-bg">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-8">
                            <div class="breadcrumb-content text-center">
                                <h2 class="title">Orchidsprings Booking</h2>
                                <nav aria-label="breadcrumb">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                                        <li class="breadcrumb-item active" aria-current="page">Booking</li>
                                    </ol>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- breadcrumb-area-end -->

            <!-- customer-details-area -->
            <section class="customer-details-area">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="customer-details-content">
                                <div class="icon">
                                    <img src="assets/img/icon/customer_det_icon.jpg" alt="">
                                </div>
                                <div class="content">
                                    <h2 class="title">Please select a space</h2>
                                    <div class="customer-progress-wrap">
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" style="width: 50%;" aria-valuenow="50" aria-valuemin="0"
                                                aria-valuemax="100"></div>
                                        </div>
                                        <div class="customer-progress-step">
                                            <ul>
                                                <li>
                                                    <span>1</span>
                                                    <p>Space selection</p>
                                                </li>
                                                <li>
                                                    <span>2</span>
                                                    <p>Guest Information</p>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- customer-details-area-end -->

             <!-- booking-area -->
             <section class="booking-details-area">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-73">
                            <form action="/booking-details" method="get">
                                <div class="primary-contact">
                                    <i class="fa-regular fa-user"></i>
                                    <h2 class="title">Office desk selection</h2>
                                </div>
                                <div class="booking-details-wrap">
                                        <label>Entrance</label>
                                        <div class="selection-container">
                                            <div class="empty-container"></div>
                                            <div class="selection-container-4">
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="spaceid[]" value="1">
                                                    <div class="checkbox-container">1</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="spaceid[]" value="2">
                                                    <div class="checkbox-container">2</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="spaceid[]" value="3">
                                                    <div class="checkbox-container">3</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="spaceid[]" value="4">
                                                    <div class="checkbox-container">4</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="space_id[]" value="5">
                                                    <div class="checkbox-container">5</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="space_id[]" value="6">
                                                    <div class="checkbox-container">6</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="space_id[]" value="7">
                                                    <div class="checkbox-container">7</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="space_id[]" value="8">
                                                    <div class="checkbox-container">8</div>
                                                </label>
                                            </div>
    
                                            <div class="selection-container-2">
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="space_id[]" value="9">
                                                    <div class="checkbox-container">9</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="space_id[]" value="10">
                                                    <div class="checkbox-container">10</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="space_id[]" value="11">
                                                    <div class="checkbox-container">11</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox" name="space_id[]" value="12">
                                                    <div class="checkbox-container">12</div>
                                                </label>
                                            </div>
                                            <div class="empty-container"></div>
    
                                            <div class="empty-container"></div>
                                            <div class="selection-container-2">
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox">
                                                    <div class="checkbox-container">13</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox">
                                                    <div class="checkbox-container">14</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox">
                                                    <div class="checkbox-container">15</div>
                                                </label>
                                                <label>
                                                    <input type="checkbox" class="hide-checkbox">
                                                    <div class="checkbox-container">16</div>
                                                </label>
                                            </div>
                                        </div>
                                </div>
    
                                <div class="primary-contact">
                                    <!-- <i class="fa-regular fa-bookmark-o"></i> -->
                                    <h2 class="title">Seminar room selection</h2>
                                </div>
                                <div class="booking-details-wrap">
                                    <label>
                                        <input type="checkbox" class="hide-checkbox">
                                        <div class="checkbox-container" style="padding: 15px;">Seminar room</div>
                                    </label>
                                </div>

                                <button type="submit" class="btn pt-3 d-block" style="width: 100%;">Proceed</a>
                                    <!-- <a href="/booking-details" class="btn">Proceed</a> -->
                            </form>
                        </div>
                    </div>
                </div>
            </section>
            <!-- booking-area-end -->

        </main>
        <!-- main-area-end -->
        <%- include('./partials/footer.ejs') %>
        <script>
            // Get the full query string from the URL
            const queryString = window.location.search;

            // Use a function to parse the query string into an object
            function parseQueryString(queryString) {
                const params = new URLSearchParams(queryString);
                const queryParameters = {};
                for (const [key, value] of params.entries()) {
                    queryParameters[key] = value;
                }
                return queryParameters;
            }

            // Call the function to parse the query string
            const queryParams = parseQueryString(queryString);

            // console.log(queryParams)

            // const options = {
            //     url: 'http://localhost:8080/api/reservation/check',
            //     method: 'POST',
            //     queryParams
            // };
      
            axios.post("http://localhost:8080/api/reservation/check", queryParams)
                .then(response => {
                console.log(response.data);
                }).catch(err=> console.log({err}))
            // Access individual query parameters by their names
            const spaceId = queryParams.space_id;
            const startDate = queryParams.start_date;
            const endDate = queryParams.end_date;

            // console.log('space_id:', spaceId);
            // console.log('start_date:', startDate);
            // console.log('end_date:', endDate);
        </script>
    </body>
</html>

